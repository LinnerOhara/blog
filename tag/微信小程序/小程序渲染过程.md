---
title: 微信小程序渲染过程
date: 2022-3-30
tags:
 - 微信小程序
categories: 
 - 微信小程序
---

::: tip 介绍
1. ​网页开发渲染线程和脚本线程是互斥的，这也是为什么长时间的脚本运行可能会导致页面失去响应，而在[小程序](https://developers.weixin.qq.com/miniprogram/dev/framework/quickstart/#小程序与普通网页开发的区别)中，二者是分开的，分别运行在不同的线程中。<br>
2. 小程序的逻辑层和渲染层是分开的，逻辑层运行在 JSCore 中，并没有一个完整浏览器对象，因而缺少相关的DOM API和BOM API。同时 JSCore 的环境同 NodeJS 环境也是不尽相同，所以一些 NPM 的包在小程序中也是无法运行的。<br>
3. 小程序开发过程中需要面对的是两大操作系统 iOS 和 Android 的微信客户端，以及用于辅助开发的小程序开发者工具。
:::

**小程序的运行环境**
|  运行环境 | 逻辑层 | 渲染层 |
|  ----  | ----  | --- |
| ios  | javaScriptCore | WKWebView |
| 安卓  | V8 | chromium定制内核 |
| 小程序开发工具  | NWJS | Chrome WebView |

小程序的APP.onLaunch 并不会阻塞整个小程序的渲染，所以无法在页面的Page.onLoad获取到 APP.onLaunch 的异步结果